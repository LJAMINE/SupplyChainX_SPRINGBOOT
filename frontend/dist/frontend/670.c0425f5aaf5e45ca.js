"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[670],{8670:(h,d,r)=>{r.r(d),r.d(d,{LoginComponent:()=>b});var u=r(177),t=r(4341),n=r(4438),g=r(8010),c=r(3326);function f(i,m){if(1&i&&(n.j41(0,"div",5),n.EFF(1),n.k0s()),2&i){const a=n.XpG();n.R7$(),n.JRh(a.errorMessage)}}function p(i,m){1&i&&(n.j41(0,"span",9),n.EFF(1,"Valid email required"),n.k0s())}function _(i,m){1&i&&(n.j41(0,"span",9),n.EFF(1,"Password required"),n.k0s())}let b=(()=>{class i{constructor(a,e,o){this.fb=a,this.auth=e,this.router=o,this.loading=!1,this.errorMessage="",this.form=this.fb.group({email:["",[t.k0.required,t.k0.email]],password:["",t.k0.required]})}onSubmit(){if(this.form.invalid||this.loading)return;this.loading=!0,this.errorMessage="";const a={email:(this.form.value.email??"").trim(),password:this.form.value.password??""};this.auth.login(a).subscribe({next:e=>{this.loading=!1,e&&"accessToken"in e?this.router.navigate(["/raw-materials"]):this.errorMessage=e&&"message"in e?e.message:"Invalid email or password"}})}static{this.\u0275fac=function(e){return new(e||i)(n.rXU(t.ok),n.rXU(g.u),n.rXU(c.Ix))}}static{this.\u0275cmp=n.VBU({type:i,selectors:[["app-login"]],standalone:!0,features:[n.aNF],decls:20,vars:6,consts:[[1,"login-container"],[1,"login-card"],[1,"title"],[1,"subtitle"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"error-msg"],[1,"field"],["for","email"],["id","email","type","email","formControlName","email","placeholder","you@example.com","autocomplete","email"],[1,"field-error"],["for","password"],["id","password","type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","autocomplete","current-password"],["type","submit",1,"btn-submit",3,"disabled"]],template:function(e,o){if(1&e&&(n.j41(0,"div",0)(1,"div",1)(2,"h1",2),n.EFF(3,"SupplyChainX"),n.k0s(),n.j41(4,"p",3),n.EFF(5,"Sign in to continue"),n.k0s(),n.j41(6,"form",4),n.bIt("ngSubmit",function(){return o.onSubmit()}),n.DNE(7,f,2,1,"div",5),n.j41(8,"div",6)(9,"label",7),n.EFF(10,"Email"),n.k0s(),n.nrm(11,"input",8),n.DNE(12,p,2,0,"span",9),n.k0s(),n.j41(13,"div",6)(14,"label",10),n.EFF(15,"Password"),n.k0s(),n.nrm(16,"input",11),n.DNE(17,_,2,0,"span",9),n.k0s(),n.j41(18,"button",12),n.EFF(19),n.k0s()()()()),2&e){let s,l;n.R7$(6),n.Y8G("formGroup",o.form),n.R7$(),n.vxM(7,o.errorMessage?7:-1),n.R7$(5),n.vxM(12,null!=(s=o.form.get("email"))&&s.invalid&&null!=(s=o.form.get("email"))&&s.touched?12:-1),n.R7$(5),n.vxM(17,null!=(l=o.form.get("password"))&&l.invalid&&null!=(l=o.form.get("password"))&&l.touched?17:-1),n.R7$(),n.Y8G("disabled",o.form.invalid||o.loading),n.R7$(),n.SpI(" ",o.loading?"Signing in...":"Sign in"," ")}},dependencies:[u.MD,t.X1,t.qT,t.me,t.BC,t.cb,t.j4,t.JD],styles:[".login-container[_ngcontent-%COMP%]{min-height:calc(100vh - 2rem);display:flex;align-items:center;justify-content:center;padding:1rem}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;background:#1e293b;border-radius:12px;padding:2rem;border:1px solid #334155;box-shadow:0 10px 40px #0000004d}.title[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:1.75rem;font-weight:700;color:#f8fafc}.subtitle[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:#94a3b8;font-size:.95rem}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.error-msg[_ngcontent-%COMP%]{padding:.75rem;background:#ef444426;color:#fca5a5;border-radius:6px;font-size:.9rem}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#cbd5e1}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.65rem .9rem;border:1px solid #475569;border-radius:6px;background:#0f172a;color:#e2e8f0;font-size:1rem}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#38bdf8}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#64748b}.field-error[_ngcontent-%COMP%]{font-size:.8rem;color:#f87171}.btn-submit[_ngcontent-%COMP%]{margin-top:.5rem;padding:.75rem 1rem;background:#38bdf8;color:#0f172a;border:none;border-radius:6px;font-size:1rem;font-weight:600;transition:background .2s}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:#7dd3fc}.btn-submit[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}"]})}}return i})()}}]);