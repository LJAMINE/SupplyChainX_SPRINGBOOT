{"ast":null,"code":"import { inject } from '@angular/core';\nimport { AuthService } from '../services/auth.service';\nimport { environment } from '../../../environments/environment';\nexport const authInterceptor = (req, next) => {\n  const auth = inject(AuthService);\n  const token = auth.getToken();\n  if (token && req.url.startsWith(environment.apiUrl)) {\n    req = req.clone({\n      setHeaders: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n  }\n  return next(req);\n};","map":{"version":3,"names":["inject","AuthService","environment","authInterceptor","req","next","auth","token","getToken","url","startsWith","apiUrl","clone","setHeaders","Authorization"],"sources":["/home/amine/SupplyChainX/frontend/src/app/core/interceptors/auth.interceptor.ts"],"sourcesContent":["import { HttpInterceptorFn } from '@angular/common/http';\nimport { inject } from '@angular/core';\nimport { AuthService } from '../services/auth.service';\nimport { environment } from '../../../environments/environment';\n\nexport const authInterceptor: HttpInterceptorFn = (req, next) => {\n  const auth = inject(AuthService);\n  const token = auth.getToken();\n\n  if (token && req.url.startsWith(environment.apiUrl)) {\n    req = req.clone({\n      setHeaders: { Authorization: `Bearer ${token}` },\n    });\n  }\n\n  return next(req);\n};\n"],"mappings":"AACA,SAASA,MAAM,QAAQ,eAAe;AACtC,SAASC,WAAW,QAAQ,0BAA0B;AACtD,SAASC,WAAW,QAAQ,mCAAmC;AAE/D,OAAO,MAAMC,eAAe,GAAsBA,CAACC,GAAG,EAAEC,IAAI,KAAI;EAC9D,MAAMC,IAAI,GAAGN,MAAM,CAACC,WAAW,CAAC;EAChC,MAAMM,KAAK,GAAGD,IAAI,CAACE,QAAQ,EAAE;EAE7B,IAAID,KAAK,IAAIH,GAAG,CAACK,GAAG,CAACC,UAAU,CAACR,WAAW,CAACS,MAAM,CAAC,EAAE;IACnDP,GAAG,GAAGA,GAAG,CAACQ,KAAK,CAAC;MACdC,UAAU,EAAE;QAAEC,aAAa,EAAE,UAAUP,KAAK;MAAE;KAC/C,CAAC;EACJ;EAEA,OAAOF,IAAI,CAACD,GAAG,CAAC;AAClB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}